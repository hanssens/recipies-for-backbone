
@{
    ViewBag.Title = "Tasks Overview";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="hbox stretch" id="taskapp">
    <aside>
        <section class="vbox">
            <header class="header bg-light lter bg-gradient b-b">
                <button class="btn btn-success btn-sm pull-right btn-icon" id="new-task"><i class="icon-plus"></i>Add new task</button>
                <p>@ViewBag.Title</p>
            </header>
            <section class="bg-light lter">
                <section class="hbox stretch">
                    
                    <aside>
                        <section class="vbox">
                            <section class="scrollable wrapper">
                                <!-- task list -->
                                <ul id="task-list" class="list-group list-group-sp"></ul>
                                <!-- backbone template -->
                                <script type="text/template" id="item-template">
                                    <div class="view" id="task-<%- id %>">
                                        <button class="destroy close hover-action">&times;</button>
                                        <div class="checkbox">
                                            <input class="toggle" type="checkbox"><%= done ? 'checked="checked"' : '' %></>
                                            <span class="task-name"><%- (name && name.length) ? name : 'New task' %></span>
                                            <input class="edit form-control" type="text" value="<%- name %>" />
                                        </div>
                                    </div>
                                </script>
                                <!-- / template  -->
                                <!-- task list -->
                            </section>
                        </section>
                    </aside>
                    
                </section>
            </section>
            <footer class="footer bg-white-only b-t">
                <p class="checkbox"><label><input id="toggle-all" type="checkbox"> Mark all as complete</label></p>
            </footer>
        </section>
    </aside>
    <!-- .aside -->
    <aside class="col-lg-4 bg-white">
        <section class="vbox flex b-l" id="task-detail">
            <!-- task detail -->
            <script type="text/template" id="task-template">
                <header class="header bg-light lt b-b">
                    <p class="m-b">
                        <span class="text-muted">Created:</span> <%- moment(date).format('MMM Do, h:mm a') %>
                    </p>
                    <div class="lter pull-in b-t m-t-xxs">
                        <textarea type="text" class="form-control form-control-trans scrollable" placeholder="Task description"><%- desc %></textarea>
                    </div>
                </header>
                <section>
                    <section>
                        <section>
                            <ul id="task-comment" class="list-group no-radius no-border m-t-n-xxs"></ul>
                        </section>
                    </section>
                </section>
                <footer class="footer bg-light lter clearfix b-t">
                    <div class="input-group m-t-sm">
                        <input type="text" class="form-control input-sm" id="task-c-input" placeholder="Type a comment">
                        <span class="input-group-btn">
                            <button class="btn btn-success btn-sm" type="button" id="task-c-btn"><i class="icon-pencil"></i>Add comment</button>
                        </span>
                    </div>
                </footer>
            </script>
            <!-- task detail -->
            <script type="text/template" id="item-c-template">
                <div class="view">
                    <button class="destroy close hover-action">&times;</button>
                    <div>
                        <span><%- desc %></span>
                        <small class="text-muted block text-xs"><i class="icon-time"></i> <%- moment(date).fromNow() %></small>
                    </div>
                </div>
            </script>
        </section>
    </aside>
    <!-- /.aside -->
</section>

@section Scripts{
    <script src="@Url.Content("~/assets/scripts/tasks.js")"></script>    
}
